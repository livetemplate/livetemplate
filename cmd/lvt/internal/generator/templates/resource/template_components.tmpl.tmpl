{{template "layout" .}}

{{define "content"}}
  <h1[[if ne (titleClass .CSSFramework) ""]] class="[[titleClass .CSSFramework]]"[[end]]>{{.Title}}</h1>

  <!-- Toolbar with Add, Search, and Sort -->
  {{template "toolbar" .}}

  <!-- Add Modal -->
  {{template "addModal" .}}

  <!-- Edit Modal -->
  {{if ne .EditingID ""}}
  <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000;">
    <div style="background: white; border-radius: 8px; padding: 2rem; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto;">
      {{template "editForm" .}}
    </div>
  </div>
  {{end}}

  <!-- Statistics -->
  {{template "stats" .}}

  <!-- Table -->
  {{template "tableBox" .}}

  <!-- Footer -->
  <footer[[if ne (boxClass .CSSFramework) ""]] class="[[boxClass .CSSFramework]]"[[end]]>
    <p><small>Last updated: {{.LastUpdated}}</small></p>
  </footer>
{{end}}

{{define "formContent"}}
  {{template "addForm" .}}
{{end}}

{{define "tableContent"}}
  {{template "resourceTable" .}}
  {{template "pagination" .}}
{{end}}
